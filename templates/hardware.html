{% extends 'base.html' %}
{% block content %}
<div class="hero p-3 rounded-4 mb-3">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <p class="text-secondary mb-1">Donanım Tanımları</p>
      <h2 class="mb-0">Röle ve Yük Envanteri</h2>
    </div>
    <div class="d-flex gap-2">
      <button class="btn btn-outline-secondary" id="hardwareRefresh">Yenile</button>
      <button class="btn btn-primary" id="saveHardware">Kaydet</button>
    </div>
  </div>
</div>

<div class="card mb-3"><div class="card-body">
  <h6 class="mb-1">Bu sayfa ne işe yarar?</h6>
  <div class="small text-secondary">
    Burada her çıkışın adını, GPIO pinini, rolünü ve güç bilgisini girersin. Otomasyon kanalları rol alanına göre bulunur.
    Enerji tahmini için güç (W), adet ve voltaj bilgisi kullanılır.
  </div>
</div></div>

<div class="card"><div class="card-body">
  <div class="table-responsive">
    <table class="table table-sm align-middle" id="hardwareTable">
      <thead>
        <tr>
          <th>Ad</th>
          <th>Aktif</th>
          <th>Rol</th>
          <th>GPIO</th>
          <th>Active Low</th>
          <th>Açıklama</th>
          <th>Güç (W)</th>
          <th>Adet</th>
          <th>Toplam Güç</th>
          <th>Voltaj (V)</th>
          <th>Not</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
  <small class="text-secondary">Kaydedince tüm kanallar güvenlik için OFF yapılır.</small>
</div></div>

<div class="card mt-3"><div class="card-body">
  <h6 class="mb-2">Sensör Ayarları</h6>
  <div class="row g-2">
    <div class="col-md-3">
      <label class="form-label">DHT22 GPIO</label>
      <input class="form-control" id="sensorDhtGpio" type="number" min="0" value="17">
    </div>
    <div class="col-md-3">
      <label class="form-label">BH1750 Adres</label>
      <input class="form-control" id="sensorBhAddr" placeholder="0x23">
    </div>
    <div class="col-md-3">
      <label class="form-label">ADS1115 Adres</label>
      <input class="form-control" id="sensorAdsAddr" placeholder="0x48">
    </div>
    <div class="col-md-3">
      <label class="form-label">DS18B20</label>
      <select class="form-select" id="sensorDsEnabled">
        <option value="true">Açık</option>
        <option value="false">Kapalı</option>
      </select>
    </div>
  </div>
  <div class="small text-secondary mt-2">Kaydet ile sensör ayarları anında uygulanır.</div>
</div></div>

<script>window.initHardware && window.initHardware();</script>
{% endblock %}
